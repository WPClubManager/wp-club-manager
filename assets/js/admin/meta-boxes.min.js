jQuery(function(b){if(jQuery("select.chosen_select").chosen({disable_search_threshold:10,width:"220px"}),jQuery("select.chosen_select_outcome").chosen({disable_search_threshold:10,width:"auto",placeholder_text_single:" "}),jQuery("select.chosen_select_dob").chosen({disable_search_threshold:32}),jQuery("select.chosen_select_nostd").chosen({allow_single_deselect:"true"}),jQuery("select.wpcm-chosen-multiple").chosen({width:"100%"}),jQuery("#input-order").length){jQuery("select.wpcm-chosen-multiple").on("change",function(a){var b=jQuery(this).get(0);setTimeout(function(){var a=ChosenOrder.getSelectionOrder(b);jQuery("#input-order").val(a).toString().split(",")})});var c=jQuery("select.wpcm-chosen-multiple").get(0);ChosenOrder.setSelectionOrder(c,jQuery("#input-order").val().split(","),!0)}jQuery(".wpcm_stats-tabs a").click(function(){var a=jQuery(this).attr("href");return jQuery(this).parent().addClass("tabs").siblings("li").removeClass("tabs"),jQuery(this).parent().parent().parent().find(".tabs-panel").hide(),jQuery(a).show(),!1}),jQuery(".type_box").appendTo("#wpclubmanager-player-stats .hndle"),jQuery(function(){jQuery("#wpclubmanager-player-stats").find(".hndle").unbind("click.postboxes"),jQuery("#wpclubmanager-player-stats").on("click",".hndle",function(a){jQuery(a.target).filter("input, option, label, select, .chosen-drop").length||jQuery("#wpclubmanager-player-stats").toggleClass("closed")})}),jQuery(document).on("change",".wpcm-player-season-select",function(){var a=jQuery(this).data("target"),b=jQuery("option:selected",this).data("show");jQuery(a).children().addClass("hidden"),jQuery(b).removeClass("hidden")}),jQuery(".wpcm-player-season-select").trigger("change"),jQuery("#wpclubmanager-match-result").on("change","#wpcm_played",function(){played=jQuery(this).prop("checked"),played?(jQuery("#wpclubmanager-match-report").show("fast"),jQuery("#wpclubmanager-match-result #results-table").show("fast")):(jQuery("#wpclubmanager-match-result #results-table").hide("fast"),jQuery("#wpclubmanager-match-report").hide("fast"))}),jQuery("#wpclubmanager-match-result #wpcm_played").change(),jQuery("#wpclubmanager-match-result").on("change","#wpcm_shootout",function(){shootout=jQuery(this).prop("checked"),shootout?jQuery("#wpclubmanager-match-result .wpcm-results-shootout").show("fast"):jQuery("#wpclubmanager-match-result .wpcm-results-shootout").hide("fast")}),jQuery("#wpclubmanager-match-result #wpcm_shootout").change(),jQuery("#wpclubmanager-match-result").on("change","#_wpcm_postponed",function(){postponed_result=jQuery("#_wpcm_postponed").prop("checked"),postponed_result?(jQuery(".wpcm-postponed-result").show("fast"),jQuery("#wpclubmanager-match-result #results-table").hide("fast")):jQuery(".wpcm-postponed-result").hide("fast")}),jQuery("#wpclubmanager-match-result #_wpcm_postponed").change(),jQuery('#wpcm_players table .names input[type="checkbox"]').on("change",function(){player_id=jQuery(this).attr("data-player"),jQuery(this).closest("tr").find('input[type="number"]').prop("disabled",!jQuery(this).prop("checked")),jQuery(this).closest("tr").find('input[data-card="yellow"], input[data-card="red"]').prop("disabled",!jQuery(this).prop("checked")),jQuery(this).closest("tr").find("select").prop("disabled",!jQuery(this).prop("checked")),jQuery(this).closest("tr").find('input[type="radio"]').prop("disabled",!jQuery(this).prop("checked"))}),jQuery('#wpcm_players table td.mvp input[type="radio"]').click(function(){jQuery('td.mvp input[type="radio"]').prop("checked",!1),jQuery(this).prop("checked",!0)}),jQuery('#wpcm_players table td.captain input[type="radio"]').click(function(){jQuery('td.captain input[type="radio"]').prop("checked",!1),jQuery(this).prop("checked",!0)}),updateCounter=function(){var a=jQuery("#wpcm_lineup input.player-select:checked").length,b=jQuery("#wpcm_subs input.player-select:checked").length;a>0?jQuery("#wpcm_lineup .counter").text(""+a):jQuery("#wpcm_lineup .counter").text("0"),b>0?jQuery("#wpcm_subs .counter").text(""+b):jQuery("#wpcm_subs .counter").text("0")},jQuery("#wpcm_lineup .counter, #wpcm_subs .counter").text(function(){updateCounter()}),jQuery("#wpcm_lineup input:checkbox, #wpcm_subs input:checkbox").on("change",function(){updateCounter()}),jQuery(".wpcm-table-add-row").click(function(){var a=jQuery("#wpcm-table-stats table th input.stats-rows").val(),b=jQuery("#id option:selected").text(),c=jQuery("#id option:selected").val(),d='<tr class="count-row"><td><input type="checkbox" name="record"></td><td class="pos"></td><td><input type="hidden" name="wpcm_table_clubs[]" value="'+c+'">'+b+'</td><td colspan="'+a+'"></td></tr>';jQuery("#wpcm-table-stats table tbody").append(d),jQuery("#wpcm-table-stats table tr.count-row").each(function(a){jQuery("td",this).eq(1).html(a+1)})}),jQuery(".wpcm-table-delete-row").click(function(){jQuery("#wpcm-table-stats table tbody").find('input[name="record"]').each(function(){jQuery(this).is(":checked")&&(jQuery(this).parents("tr").prev("tr").remove(),jQuery(this).parents("tr").next("tr").remove(),jQuery(this).parents("tr").remove())})}),jQuery("#wpcm-table-stats input").change(function(){index=jQuery(this).attr("data-index"),club=jQuery(this).closest("tr").attr("data-club"),value=0,jQuery(this).closest("table").find("tbody").each(function(){total=parseInt(jQuery(this).find('tr[data-club="'+club+'"] td.wpcm-table-stats-total input[data-index="'+index+'"]').val()),auto=parseInt(jQuery(this).find('tr[data-club="'+club+'"] td.wpcm-table-stats-auto input[data-index="'+index+'"]').val()),value=total-auto}),jQuery(this).closest("table").find('tr[data-club="'+club+'"] td.wpcm-table-stats-manual input[data-index="'+index+'"]').val(value)}),jQuery('#wpcm-table-stats input[data-index="f"],#wpcm-table-stats input[data-index="a"]').change(function(){club=jQuery(this).closest("tr").attr("data-club"),value=0,jQuery(this).closest("table").find("tbody").each(function(){f=parseInt(jQuery(this).find('tr[data-club="'+club+'"] td.wpcm-table-stats-total input[data-index="f"]').val()),a=parseInt(jQuery(this).find('tr[data-club="'+club+'"] td.wpcm-table-stats-total input[data-index="a"]').val()),jQuery("body").hasClass("footy")?value=f/a*100:value=f-a}),jQuery(this).closest("table").find('tr[data-club="'+club+'"] td.wpcm-table-stats-total input[data-index="gd"]').val(value),jQuery(this).closest("table").find("tbody").each(function(){total=parseInt(jQuery(this).find('tr[data-club="'+club+'"] td.wpcm-table-stats-total input[data-index="gd"]').val()),auto=parseInt(jQuery(this).find('tr[data-club="'+club+'"] td.wpcm-table-stats-auto input[data-index="gd"]').val()),manual=total-auto}),jQuery(this).closest("table").find('tr[data-club="'+club+'"] td.wpcm-table-stats-manual input[data-index="gd"]').val(manual)});var d=jQuery(".wpcm-sortable");d.sortable({handle:".names .name, .names .dashicons-move",cursor:"move",update:function(a,c){jQuery("#loading-animation").show(),opts={url:ajaxurl,type:"POST",async:!0,cache:!1,data:{action:"item_sort",wpcm_nonce:b("#wpclubmanager_meta_nonce").val(),order:d.sortable("toArray").toString()},dataType:"JSON",success:function(a){jQuery("#loading-animation").hide()},error:function(a,b,c){jQuery("#loading-animation").hide()}},jQuery.ajax(opts)}}),jQuery(".wpcm-player-roster-add-row").click(function(){var a=jQuery(".player-id option:selected").text(),b=jQuery(".player-id option:selected").val(),c='<tr><td><input type="checkbox" name="record"></td><td><input type="hidden" name="wpcm_roster_players[]" value="'+b+'">'+a+"</td></tr>";jQuery("#wpcm-player-roster-stats table tbody").append(c),jQuery(".wpcm-player-roster-delete-row").removeClass("hidden-button")}),jQuery(".wpcm-player-roster-delete-row").click(function(){jQuery("#wpcm-player-roster-stats table tbody").find('input[name="record"]').each(function(){jQuery(this).is(":checked")&&jQuery(this).parents("tr").remove()})}),jQuery(".wpcm-staff-roster-add-row").click(function(){var a=jQuery(".staff-id option:selected").text(),b=jQuery(".staff-id option:selected").val(),c='<tr><td><input type="checkbox" name="record"></td><td><input type="hidden" name="wpcm_roster_staff[]" value="'+b+'">'+a+"</td></tr>";jQuery("#wpcm-staff-roster-stats table tbody").append(c),jQuery(".wpcm-staff-roster-delete-row").removeClass("hidden-button")}),jQuery(".wpcm-staff-roster-delete-row").click(function(){jQuery("#wpcm-staff-roster-stats table tbody").find('input[name="record"]').each(function(){jQuery(this).is(":checked")&&jQuery(this).parents("tr").remove()})}),jQuery(".colorpick").iris({change:function(a,b){jQuery(this).parent().find(".colorpickpreview").css({backgroundColor:b.color.toString()})},hide:!0,border:!0}).click(function(){jQuery(".iris-picker").hide(),jQuery(this).closest("p").find(".iris-picker").show()}),jQuery("body").click(function(){jQuery(".iris-picker").hide()}),jQuery(".colorpick").click(function(a){a.stopPropagation()}),jQuery(".wpcm-add-video").click(function(){return jQuery(this).closest("fieldset").hide().siblings(".wpcm-video-field").show(),!1}),jQuery(".wpcm-remove-video").click(function(){return jQuery(this).closest("fieldset").hide().siblings(".wpcm-video-adder").show().siblings(".wpcm-video-field").find("input").val(null),!1}),b(document.body).on("wpcm-init-datepickers",function(){b(".wpcm-date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0}),b(".wpcm-birth-date-picker").datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,yearRange:"-90:+0"})}).trigger("wpcm-init-datepickers"),b(".wpcm-time-picker").jquery_timepicker({timeFormat:"H:i",step:"15"}),b(document).ready(function(){b(".combify-input").combify(),b(".wpcm-match-players-table td input").on("click",function(){b(this).focus()})})});